import"./main-DnLmHnrQ.js";import{s}from"./setTitle-DhMamm5E.js";import{p as r}from"./pocketbase-nuOjjRsH.js";s("Discography");const o=r.collection("discography").getFullList({sort:"release"});let i=[];o.then(t=>{t.forEach((a,l)=>{i.push(a.albumTrack);let e=`
    <li class="album-list-item" tabindex="0">
      <img data-index=${l} src="https://lifeishard.pockethost.io//api/files/discography/${a.id}/${a.albumCover}" alt="${a.albumName} 앨범 커버" title="${a.albumName}" />
    </li>
  `;$(".album-list").append(e)})}).catch(t=>console.log(t));$(".album-list").click(t=>{t.target.tagName==="IMG"&&($(".album-trackList").empty(),$(".modal")[0].showModal(),$(".modal").css("background-image",`url(${t.target.src})`),$(".album-title").text(t.target.title),$(".album-title").attr("title",t.target.title),i[t.target.dataset.index].forEach(a=>{let l=a.title?`<li>${a.song} <span>TITLE</span></li>`:`<li>${a.song}</li>`;$(".album-trackList").append(l)}))});$(".album-list").keydown(t=>{t.key===" "&&t.target.tagName==="LI"&&($(".album-trackList").empty(),$(".modal")[0].showModal(),$(".modal").css("background-image",`url(${t.target.children[0].src})`),$(".album-title").text(t.target.title),$(".album-title").attr("title",t.target.children[0].title),i[t.target.children[0].dataset.index].forEach(a=>{let l=a.title?`<li>${a.song} <span>TITLE</span></li>`:`<li>${a.song}</li>`;$(".album-trackList").append(l)}))});$(".close_btn").click(t=>{$(".modal")[0].close()});
