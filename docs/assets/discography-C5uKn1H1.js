import"./index-DXZE7Dtf.js";import"./main-BOxjpGdl.js";import{s as r}from"./setTitle-DhMamm5E.js";import{p as o}from"./pocketbase-nuOjjRsH.js";r("Discography");let i=!1;$(".navbar-btn").click(function(){$(".navbar").toggleClass("open",!i),$(".navbar").toggleClass("close",i),i=!i});const c=o.collection("discography").getFullList({sort:"release"});let e=[];c.then(t=>{t.forEach((a,l)=>{e.push(a.albumTrack);let s=`
    <li class="album-list-item" tabindex="0">
      <img data-index=${l} src="https://lifeishard.pockethost.io//api/files/discography/${a.id}/${a.albumCover}" alt="${a.albumName} 앨범 커버" title="${a.albumName}" />
    </li>
  `;$(".album-list").append(s)})}).catch(t=>console.log(t));$(".album-list").click(t=>{t.target.tagName==="IMG"&&($(".album-trackList").empty(),$(".modal")[0].showModal(),$(".modal").css("background-image",`url(${t.target.src})`),$(".album-title").text(t.target.title),$(".album-title").attr("title",t.target.title),e[t.target.dataset.index].forEach(a=>{let l=a.title?`<li>${a.song} <span>TITLE</span></li>`:`<li>${a.song}</li>`;$(".album-trackList").append(l)}))});$(".album-list").keydown(t=>{t.key===" "&&t.target.tagName==="LI"&&($(".album-trackList").empty(),$(".modal")[0].showModal(),$(".modal").css("background-image",`url(${t.target.children[0].src})`),$(".album-title").text(t.target.title),$(".album-title").attr("title",t.target.children[0].title),e[t.target.children[0].dataset.index].forEach(a=>{let l=a.title?`<li>${a.song} <span>TITLE</span></li>`:`<li>${a.song}</li>`;$(".album-trackList").append(l)}))});$(".close_btn").click(t=>{$(".modal")[0].close()});
